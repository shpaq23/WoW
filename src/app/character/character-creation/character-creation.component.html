<div class="races">
  <div class="alliance faction">
    <app-faction-icon [faction]="'alliance'"></app-faction-icon>
    <ng-container *ngFor="let race of availableRaces">
      <app-race-icon (selectedRace)="selectRace($event)" *ngIf="race.gender===choosenGender && race.faction==='alliance'" [race]="race" [selected]="choosenRace.name === race.name" ></app-race-icon>
    </ng-container>
  </div>
  <div class="horde faction">
    <app-faction-icon [faction]="'horde'"></app-faction-icon>
    <ng-container *ngFor="let race of availableRaces">
      <app-race-icon (selectedRace)="selectRace($event)" *ngIf="race.gender===choosenGender && race.faction==='horde'" [race]="race" [selected]="choosenRace.name === race.name"></app-race-icon>
    </ng-container>
  </div>
  <div class="genders">
      <app-gender-icon (selectedGender)="selectGender($event)" [selected]="choosenGender === 'female'" [gender]="'female'"></app-gender-icon>
      <app-gender-icon (selectedGender)="selectGender($event)" [selected]="choosenGender === 'male'" [gender]="'male'"></app-gender-icon>
  </div>
</div>

  <div class="classes">
    <ng-container *ngFor="let characterClass of choosenRace.availableClasses" >
      <app-class-icon (selectedClass)="selectClass($event)" [characterClass]="characterClass" [selected]="choosenClass === characterClass"></app-class-icon>
    </ng-container>
  </div>

<div class="model">
  <app-character-model [class]="choosenRace.name" [characterClass]="choosenClass" [race]="choosenRace"></app-character-model>
</div>

<div class="form">
 <form [formGroup]="creationForm" autocomplete="off" (ngSubmit)="onSubmit()">
   <div *ngIf="(submitted && creationForm.invalid) || error" class="errors">
     <div class="error" *ngIf="creationForm.get('nickname').hasError('required')">Nickname is required</div>
     <div class="error" *ngIf="error">{{error}}</div>
   </div>
   <div class="form-group">
     <label class="text-label" for="nickname">Nickname</label>
     <input type="text" formControlName="nickname" class="form-control" id="nickname"/>
   </div>
   <div class="form-group submit">
     <button type="submit" [disabled]="loading" class="btn btn-primary">Create</button>
   </div>
   <img *ngIf="loading" class="pl-2" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="  alt="refresh"/>
 </form>
</div>


